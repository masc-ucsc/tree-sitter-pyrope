enum State = (Idle, Active, Done)       // One-hot encoding: 1, 2, 4
// Simplified subset of full Pyrope enum features

reg current_state:State = State.Idle

match current_state {
    case State.Idle {
        current_state = State.Active when start
    }
    case State.Active {
        current_state = State.Done when complete
    }
    case State.Done {
        current_state = State.Idle
    }
}
