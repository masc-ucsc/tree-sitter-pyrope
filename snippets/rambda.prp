
divide = {|a,b| a/b }
half   = {|a| divide(a/2) }

r_where = {|| {|[cond=$](x)| x == cond } }

r_pick_first = {|fun, array|
  for i in array {
    return i when fun(i)
  }
}

r_pick_first2 = {|fun, array|
  return for i in array {
    break i when fun(i)
  }
}

r_pick_all = {|fun, array|
  return for i in array {
    continue i when fun(i)
  }
}

r_pick_all2 = {|fun, array|
  ret = ()
  for i in array {
    ret ++= i when fun(i)
  }
  return ret
}
