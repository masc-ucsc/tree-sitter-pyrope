
divide = {|a,b| a/b }
half   = {|a| divide(a/2) }

r_where = {|x| {|[cond=x](x)| x == cond } }

r_pick_first = {|fun, array|
  for i in array {
    ret i when fun(i)
  }
}

r_pick_first2 = {|fun, array|
  ret for i in array {
    last i when fun(i)
  }
}

r_pick_all = {|fun, array|
  ret for i in array {
    cont i when fun(i)
  }
}

r_pick_all2 = {|fun, array|
  var r = ()
  for i in array {
    r ++= i when fun(i)
  }
  ret r
}
